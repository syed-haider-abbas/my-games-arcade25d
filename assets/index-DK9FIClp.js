import{c as F,p as S,u as H,j as e,B as z,r as j,V as W}from"./index-DY1oOfee.js";const G=["Ø§","Ø¨","Ù¾","Øª","Ù¹","Ø«","Ø¬","Ú†","Ø­","Ø®","Ø¯","Úˆ","Ø°","Ø±","Ú‘","Ø²","Ú˜","Ø³","Ø´","Øµ","Ø¶","Ø·","Ø¸","Ø¹","Øº","Ù","Ù‚","Ú©","Ú¯","Ù„","Ù…","Ù†","Ùˆ","Û","Ú¾","Ø¡","ÛŒ","Û’"],R="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),M=[{id:"airplane-baby",title:"Airplane Pilot",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/airplane-baby-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/airplane-baby-thumb.webp"},{id:"bear-baby",title:"Baby Bear",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/bear-baby-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/bear-baby-thumb.webp"},{id:"car-girlish",title:"Pink Convertible",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/car-girlish-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/car-girlish-thumb.webp"},{id:"deer-baby-fawn",title:"Baby Fawn",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/deer-baby-fawn-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/deer-baby-fawn-thumb.webp"},{id:"deer-baby-fawn-sitting",title:"Sitting Deer",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/deer-baby-fawn-sitting-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/deer-baby-fawn-sitting-thumb.webp"},{id:"elephant-baby",title:"Baby Elephant",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/elephant-baby-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/elephant-baby-thumb.webp"},{id:"fairy-jungle",title:"Forest Fairy",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/fairy-jungle-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/fairy-jungle-thumb.webp"},{id:"fox-little",title:"Little Fox",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/fox-little-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/fox-little-thumb.webp"},{id:"giraffe-baby",title:"Baby Giraffe",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/giraffe-baby-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/giraffe-baby-thumb.webp"},{id:"girl-with-bear-toy",title:"Girl & Teddy",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/girl-with-bear-toy-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/girl-with-bear-toy-thumb.webp"},{id:"hipo-baby",title:"Baby Hippo",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/hipo-baby-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/hipo-baby-thumb.webp"},{id:"ice-cream-truck",title:"Ice Cream Truck",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/ice-cream-truck-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/ice-cream-truck-thumb.webp"},{id:"koala-baby",title:"Baby Koala",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/koala-baby-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/koala-baby-thumb.webp"},{id:"lion-jungle-cute",title:"Jungle Lion",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/lion-jungle-cute-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/lion-jungle-cute-thumb.webp"},{id:"monky-baby-hanging",title:"Playful Monkey",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/monky-baby-hanging-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/monky-baby-hanging-thumb.webp"},{id:"owl-king",title:"Owl King",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/owl-king-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/owl-king-thumb.webp"},{id:"own-in-tree-hollow",title:"Owl in Tree",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/own-in-tree-hollow-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/own-in-tree-hollow-thumb.webp"},{id:"panda-baby",title:"Baby Panda",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/panda-baby-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/panda-baby-thumb.webp"},{id:"penguin-on-ice-rink",title:"Skating Penguin",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/penguin-on-ice-rink-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/penguin-on-ice-rink-thumb.webp"},{id:"pink-kitten",title:"Pink Kitten",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/pink-kitten-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/pink-kitten-thumb.webp"},{id:"princess-jungle",title:"Jungle Princess",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/princess-jungle-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/princess-jungle-thumb.webp"},{id:"rabbit-carrot",title:"Rabbit & Carrot",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/rabbit-carrot-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/rabbit-carrot-thumb.webp"},{id:"rabbit-in-hole",title:"Rabbit Home",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/rabbit-in-hole-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/rabbit-in-hole-thumb.webp"},{id:"robot-with-flower",title:"Friendly Robot",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/robot-with-flower-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/robot-with-flower-thumb.webp"},{id:"sea-turtle-baby",title:"Baby Turtle",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/sea-turtle-baby-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/sea-turtle-baby-thumb.webp"},{id:"tiger-baby",title:"Baby Tiger",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/tiger-baby-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/tiger-baby-thumb.webp"},{id:"train-chu-chu",title:"Choo Choo Train",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/train-chu-chu-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/train-chu-chu-thumb.webp"},{id:"zebra-baby",title:"Baby Zebra",src:"https://assets.haiderabbas.me/games/slide-puzzle/images/zebra-baby-optimized.webp",thumbnail:"https://assets.haiderabbas.me/games/slide-puzzle/images/zebra-baby-thumb.webp"}],_={NUMBER:[{size:2,label:"2x2"},{size:3,label:"3x3"},{size:4,label:"4x4"},{size:6,label:"6x6"},{size:8,label:"8x8"}],ALPHABET:[{size:2,label:"2x2"},{size:3,label:"3x3"},{size:4,label:"4x4"},{size:5,label:"5x5"}],IMAGE:[{size:2,label:"2x2"},{size:3,label:"3x3"},{size:4,label:"4x4"},{size:6,label:"6x6"},{size:8,label:"8x8"},{size:10,label:"10x10"}]},U=["bg-red-500 shadow-red-700","bg-orange-500 shadow-orange-700","bg-amber-500 shadow-amber-700","bg-yellow-500 shadow-yellow-700","bg-lime-500 shadow-lime-700","bg-green-500 shadow-green-700","bg-emerald-500 shadow-emerald-700","bg-teal-500 shadow-teal-700","bg-cyan-500 shadow-cyan-700","bg-sky-500 shadow-sky-700","bg-blue-500 shadow-blue-700","bg-indigo-500 shadow-indigo-700","bg-violet-500 shadow-violet-700","bg-purple-500 shadow-purple-700","bg-fuchsia-500 shadow-fuchsia-700","bg-pink-500 shadow-pink-700","bg-rose-500 shadow-rose-700"],B=(l,s,a)=>s==="NUMBER"?(l+1).toString():s==="ENGLISH"?l<R.length?R[l]:"":s==="URDU"&&l<G.length?G[l]:"",q=(l,s)=>{const a=l*l,r=[];for(let i=0;i<a;i++){const t=i===a-1;r.push({id:i,currentPos:i,correctPos:i,isEmpty:t,content:t?"":B(i,s)})}return r},V=(l,s)=>{const a=l.map(o=>({...o})),r=[];let i=a.findIndex(o=>o.isEmpty);const t=s*s*15;for(let o=0;o<t;o++){const d=[],p=Math.floor(i/s),f=i%s;p>0&&d.push(i-s),p<s-1&&d.push(i+s),f>0&&d.push(i-1),f<s-1&&d.push(i+1);const g=d[Math.floor(Math.random()*d.length)],m=a.find(x=>x.currentPos===g),h=a.find(x=>x.isEmpty);r.length>0&&r[r.length-1]===m.id?r.pop():r.push(m.id),m.currentPos=i,h.currentPos=g,i=g}return{tiles:a,history:r}},Y=(l,s)=>{const a=l*l,r=[];for(let t=0;t<a-1;t++)r.push(B(t,s));for(let t=r.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[r[t],r[o]]=[r[o],r[t]]}const i=[];for(let t=0;t<a;t++){const o=t===a-1;i.push({id:t,currentPos:t,correctPos:t,isEmpty:o,content:o?"":r[t]})}return i},J=l=>l.every(s=>s.currentPos===s.correctPos),X=(l,s,a)=>{const r=Math.floor(l/a),i=l%a,t=Math.floor(s/a),o=s%a;return Math.abs(r-t)+Math.abs(i-o)===1},E="sliding-puzzle-prefs",O=()=>{const l={setupStep:"SELECTION",gridSize:2,contentType:"IMAGE",sequenceMode:"SEQUENTIAL",selectedImageId:M[0].id,showHints:!0,bestScores:{}};if(typeof window<"u")try{const s=localStorage.getItem(E);if(s){const a=JSON.parse(s);return{...l,...a,setupStep:"SELECTION"}}}catch(s){console.warn(s)}return l},y=F((l,s)=>({...O(),tiles:[],moveHistory:[],isSolved:!1,isAutoSolved:!1,isAutoSolving:!1,isPeeking:!1,moveCount:0,isPlaying:!1,setConfig:a=>{l(r=>{const i={...r,...a};if(typeof window<"u"){const t={gridSize:i.gridSize,contentType:i.contentType,sequenceMode:i.sequenceMode,selectedImageId:i.selectedImageId,showHints:i.showHints,bestScores:i.bestScores};localStorage.setItem(E,JSON.stringify(t))}return i})},selectVariant:(a,r)=>{S("click"),l({contentType:a,selectedImageId:r,gridSize:2,setupStep:"CONFIGURATION"})},backToSelection:()=>{S("click"),l({setupStep:"SELECTION"})},startGame:()=>{const{gridSize:a,contentType:r,sequenceMode:i}=s();let t;i==="RANDOM"&&r!=="IMAGE"?t=Y(a,r):t=q(a,r);const{tiles:o,history:d}=V(t,a);S("start"),l({tiles:o,moveHistory:d,isSolved:!1,isAutoSolved:!1,isAutoSolving:!1,isPeeking:!1,moveCount:0,isPlaying:!0})},stopGame:()=>{S("click"),l({isPlaying:!1})},moveTile:a=>{const{tiles:r,gridSize:i,isSolved:t,isAutoSolved:o,isAutoSolving:d,isPeeking:p,moveCount:f,bestScores:g,moveHistory:m}=s();if(t||o||d||p)return;const h=r.find(b=>b.id===a),x=r.find(b=>b.isEmpty);if(!(!h||!x)&&X(h.currentPos,x.currentPos,i)){const b=r.map(v=>v.id===h.id?{...v,currentPos:x.currentPos}:v.id===x.id?{...v,currentPos:h.currentPos}:v);S("tap");let u=[...m];u.length>0&&u[u.length-1]===h.id?u.pop():u.push(h.id);const k=J(b),N=f+1;let c=g;if(k){S("win");const v=g[i];if((!v||N<v)&&(c={...g,[i]:N},typeof window<"u")){O();const{contentType:A,sequenceMode:C,selectedImageId:T,showHints:n,gridSize:w}=s();localStorage.setItem(E,JSON.stringify({gridSize:w,contentType:A,sequenceMode:C,selectedImageId:T,showHints:n,bestScores:c}))}}l({tiles:b,moveHistory:u,moveCount:N,isSolved:k,bestScores:c})}},moveInDirection:a=>{const{tiles:r,gridSize:i,isSolved:t,isAutoSolved:o,isAutoSolving:d,isPeeking:p,moveTile:f}=s();if(t||o||d||p)return;const g=r.find(u=>u.isEmpty);if(!g)return;const m=g.currentPos,h=Math.floor(m/i),x=m%i;let b=-1;if(a==="UP"?h<i-1&&(b=m+i):a==="DOWN"?h>0&&(b=m-i):a==="LEFT"?x<i-1&&(b=m+1):a==="RIGHT"&&x>0&&(b=m-1),b!==-1){const u=r.find(k=>k.currentPos===b);u&&f(u.id)}},toggleHint:()=>{l(a=>{const r=!a.showHints;if(typeof window<"u"){const i=localStorage.getItem(E);if(i){const t=JSON.parse(i);localStorage.setItem(E,JSON.stringify({...t,showHints:r}))}}return{showHints:r}}),S("click")},togglePeek:()=>{S("click"),l(a=>({isPeeking:!a.isPeeking}))},autoSolve:()=>{const{isSolved:a,isAutoSolving:r,isAutoSolved:i}=s();if(a||r||i)return;l({isAutoSolving:!0,isPeeking:!1});const t=()=>{const{moveHistory:o,tiles:d,isAutoSolving:p}=s();if(!p)return;if(o.length===0){l({isSolved:!0,isAutoSolved:!0,isAutoSolving:!1}),S("win");return}const f=o[o.length-1],g=d.find(h=>h.id===f),m=d.find(h=>h.isEmpty);if(g&&m){const h=d.map(b=>b.id===g.id?{...b,currentPos:m.currentPos}:b.id===m.id?{...b,currentPos:g.currentPos}:b),x=o.slice(0,-1);l({tiles:h,moveHistory:x}),S("tap"),setTimeout(t,60)}else l({isAutoSolving:!1})};t()},cancelAutoSolve:()=>{l({isAutoSolving:!1})},resetGame:()=>{l({isPlaying:!1,isSolved:!1,isAutoSolved:!1,isAutoSolving:!1,isPeeking:!1,moveHistory:[],setupStep:"SELECTION"})}})),P=({title:l,subtitle:s,icon:a,imageSrc:r,colorClass:i,onClick:t,large:o,hideMedia:d})=>e.jsxs("button",{onClick:t,className:`
            group relative 
            bg-white dark:bg-slate-800 
            rounded-3xl 
            border border-slate-200 dark:border-slate-700
            shadow-xl hover:shadow-2xl hover:shadow-indigo-500/20 dark:hover:shadow-indigo-900/20
            transition-all duration-300
            overflow-hidden
            flex flex-col
            text-left
            w-full
            ${o?"cursor-default hover:shadow-xl hover:translate-y-0":"cursor-pointer hover:-translate-y-2"}
        `,children:[!d&&e.jsx("div",{className:`relative ${o?"h-64 md:h-80":"h-48"} w-full overflow-hidden ${r?"bg-slate-200 dark:bg-slate-700":i}`,children:r?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:r,alt:l,className:`w-full h-full object-cover transition-transform duration-700 ${o?"":"group-hover:scale-110"}`}),!o&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}):e.jsxs("div",{className:"w-full h-full flex items-center justify-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-[-50%] left-[-20%] w-[100%] h-[200%] bg-white/10 rotate-12 blur-3xl transform origin-bottom-left"}),e.jsx("div",{className:"absolute bottom-[-50%] right-[-20%] w-[80%] h-[150%] bg-black/10 rotate-[-12deg] blur-2xl transform origin-top-right"}),e.jsx("div",{className:`text-white/90 drop-shadow-md transform transition-transform duration-500 ${o?"text-9xl":"text-7xl group-hover:scale-110 group-hover:rotate-2"}`,children:a})]})}),e.jsxs("div",{className:"flex-1 p-6 flex flex-col gap-3",children:[e.jsx("h3",{className:`${o?"text-3xl":"text-2xl"} font-black text-slate-900 dark:text-white leading-tight`,children:l}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed",children:s}),!o&&e.jsx("div",{className:"mt-auto pt-4",children:e.jsxs("span",{className:"text-sm font-bold tracking-wide text-indigo-600 dark:text-indigo-400 group-hover:translate-x-1 transition-transform flex items-center gap-1",children:["Select ",e.jsx("span",{className:"text-lg",children:"â†’"})]})})]})]}),K=()=>{const{setupStep:l,gridSize:s,setConfig:a,selectVariant:r,backToSelection:i,startGame:t,moveCount:o,tiles:d,contentType:p,selectedImageId:f,showHints:g}=y(),{enableUrdu:m}=H(),h=d.length>0&&o>=0,x=()=>{y.setState({isPlaying:!0})},b=()=>{if(p==="NUMBER")return{title:"Numbers",subtitle:"Sequential Order",icon:e.jsx("span",{className:"font-mono",children:"123"}),colorClass:"bg-indigo-500"};if(p==="ENGLISH")return{title:"English Alphabet",subtitle:"A to Z Sequential",icon:e.jsx("span",{children:"ABC"}),colorClass:"bg-emerald-500"};if(p==="URDU")return{title:"Urdu Alphabet",subtitle:"Sequential Order",icon:e.jsx("span",{children:"Ø§ Ø¨ Ù¾"}),colorClass:"bg-amber-500"};const c=M.find(v=>v.id===f)||M[0];return{title:c.title,subtitle:"Sliding Image Puzzle",imageSrc:c.src,colorClass:"bg-slate-500"}},u=()=>p==="NUMBER"?_.NUMBER:p==="ENGLISH"||p==="URDU"?_.ALPHABET:_.IMAGE,k=b(),N=u();return l==="CONFIGURATION"?e.jsx("div",{className:"w-full h-full overflow-y-auto bg-slate-50 dark:bg-[#0f172a] animate-fade-in",children:e.jsxs("div",{className:"max-w-3xl mx-auto p-6 md:p-10 pb-24 space-y-8 flex flex-col items-center",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-black text-slate-900 dark:text-white",children:"Configure Puzzle"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Customize your game settings"})]}),e.jsx("div",{className:"w-full max-w-md",children:e.jsx(P,{...k,onClick:()=>{},large:!0,hideMedia:!0})}),e.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-lg border border-slate-200 dark:border-slate-700 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-sm font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400 text-center",children:"Select Grid Size"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:N.map(c=>e.jsx("button",{onClick:()=>a({gridSize:c.size}),className:`
                                            p-4 rounded-xl font-bold transition-all border-2
                                            flex flex-col items-center justify-center gap-1
                                            ${s===c.size?"bg-pink-50 dark:bg-pink-900/20 border-pink-500 text-pink-600 dark:text-pink-400 shadow-sm scale-105":"bg-slate-50 dark:bg-slate-700/50 border-transparent text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-700"}
                                        `,children:e.jsx("span",{className:"text-xl",children:c.label})},c.size))})]}),p==="IMAGE"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-px bg-slate-100 dark:bg-slate-700 w-full"}),e.jsxs("div",{className:"flex items-center justify-between px-2 py-1",children:[e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:"Show Background Hint"}),e.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Display faint image guide"})]}),e.jsx("button",{onClick:()=>a({showHints:!g}),className:`
                                            w-14 h-8 rounded-full transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500 p-1 flex items-center
                                            ${g?"bg-pink-500":"bg-slate-200 dark:bg-slate-700"}
                                        `,children:e.jsx("span",{className:`
                                                block w-6 h-6 bg-white rounded-full shadow transition-transform duration-200 ease-in-out
                                                ${g?"translate-x-6":"translate-x-0"}
                                            `})})]})]})]}),e.jsxs("div",{className:"w-full max-w-md flex flex-col gap-4 pt-4",children:[e.jsx(z,{onClick:t,size:"lg",className:"w-full !text-xl !py-5 shadow-xl shadow-pink-500/20",children:"Start Game"}),e.jsx(z,{onClick:i,variant:"secondary",className:"w-full",children:"Back to Selection"})]})]})}):e.jsx("div",{className:"w-full h-full overflow-y-auto bg-slate-50 dark:bg-[#0f172a]",children:e.jsxs("div",{className:"max-w-7xl mx-auto p-6 md:p-10 pb-24 space-y-8 animate-fade-in",children:[e.jsxs("div",{className:"text-center space-y-2 mb-8",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-black text-slate-900 dark:text-white",children:"Choose Your Puzzle"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 max-w-lg mx-auto",children:"Select a category to get started. You can adjust difficulty in the next step."})]}),h&&e.jsxs("div",{className:"animate-pop mb-8",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-6 shadow-xl border-l-8 border-pink-500 flex flex-col sm:flex-row items-center justify-between gap-6 max-w-4xl mx-auto",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-slate-900 dark:text-white",children:"Game in Progress"}),e.jsxs("p",{className:"text-slate-500 dark:text-slate-400",children:["Resume your ",e.jsxs("span",{className:"font-bold text-pink-500",children:[s,"x",s]})," puzzle with ",o," moves."]})]}),e.jsx(z,{onClick:x,size:"lg",className:"w-full sm:w-auto !bg-pink-500 hover:!bg-pink-400 whitespace-nowrap !rounded-xl !py-4 !px-8 text-lg",children:"Continue Puzzle"})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-8 mb-4 max-w-4xl mx-auto",children:[e.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 flex-1"}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-slate-400",children:"Or Start New Game"}),e.jsx("div",{className:"h-px bg-slate-200 dark:bg-slate-700 flex-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:[e.jsx(P,{title:"Numbers",subtitle:"Sequential Order (1, 2, 3...)",colorClass:"bg-indigo-500",icon:e.jsx("span",{className:"font-mono",children:"123"}),onClick:()=>r("NUMBER",null)}),e.jsx(P,{title:"English Alphabet",subtitle:"A to Z Sequential",colorClass:"bg-emerald-500",icon:e.jsx("span",{children:"ABC"}),onClick:()=>r("ENGLISH",null)}),m&&e.jsx(P,{title:"Urdu Alphabet",subtitle:"Sequential Order (Ø§ Ø¨ Ù¾)",colorClass:"bg-amber-500",icon:e.jsx("span",{children:"Ø§ Ø¨ Ù¾"}),onClick:()=>r("URDU",null)}),M.map(c=>e.jsx(P,{title:c.title,subtitle:"Sliding Image Puzzle",colorClass:"bg-slate-500",imageSrc:c.thumbnail||c.src,onClick:()=>r("IMAGE",c.id)},c.id))]})]})})},Z=j.memo(({id:l,content:s,sizePct:a,currentPos:r,correctPos:i,gridSize:t,type:o,selectedImageId:d,isEmpty:p,onClick:f,showHints:g,isPeeking:m})=>{const{top:h,left:x,bgPosX:b,bgPosY:u}=j.useMemo(()=>{const n=Math.floor(r/t),w=r%t,I=Math.floor(i/t),L=i%t,D=o==="URDU"?t-1-w:w;return{top:`${n*a}%`,left:`${D*a}%`,bgPosX:L/(t-1)*100,bgPosY:I/(t-1)*100}},[r,i,t,a,o]),k=j.useMemo(()=>M.find(n=>n.id===d)||M[0],[d]),N=j.useCallback(()=>f(l),[f,l]);if(p)return null;const c=o==="IMAGE",v=i%U.length,A=c?"bg-slate-200":`${U[v]} text-white`,C=c?m?"opacity-25":"opacity-90":"opacity-100",T=j.useMemo(()=>c?{backgroundImage:`url(${k.src})`,backgroundSize:`${t*100}% ${t*100}%`,backgroundPosition:`${b}% ${u}%`,backgroundRepeat:"no-repeat"}:{},[c,k.src,t,b,u]);return e.jsx("div",{className:"absolute z-10 will-change-transform",style:{top:h,left:x,width:`${a}%`,height:`${a}%`,containerType:"size",transition:"top 150ms ease-out, left 150ms ease-out"},children:e.jsx("button",{onClick:N,className:"relative w-full h-full p-1 border-none outline-none group touch-manipulation","aria-label":`Move tile ${s}`,children:e.jsx("div",{className:`
                        w-full h-full 
                        rounded-md md:rounded-lg 
                        overflow-hidden
                        shadow-[inset_0_2px_0_rgba(255,255,255,0.3),_0_4px_6px_rgba(0,0,0,0.3)]
                        active:scale-95 active:shadow-inner
                        flex items-center justify-center
                        border border-white/10
                        ${A}
                        ${C}
                    `,style:T,children:!c&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent"}),e.jsx("span",{className:`font-black select-none relative z-20 flex items-center justify-center ${s===""?"opacity-0":"opacity-100"}`,style:{fontSize:"60cqmin",lineHeight:1,textShadow:"0 0.04em 0 rgba(0,0,0,0.2), 0 0.08em 0.1em rgba(0,0,0,0.3)"},children:s})]})})})})},(l,s)=>l.id===s.id&&l.currentPos===s.currentPos&&l.correctPos===s.correctPos&&l.isEmpty===s.isEmpty&&l.isPeeking===s.isPeeking&&l.showHints===s.showHints&&l.gridSize===s.gridSize&&l.type===s.type&&l.selectedImageId===s.selectedImageId),Q=j.memo(({content:l,isLast:s})=>s?e.jsx("div",{}):e.jsx("div",{className:"flex items-center justify-center border border-black/5 dark:border-white/5",style:{containerType:"size"},children:e.jsx("span",{className:"font-black select-none text-slate-900/10 dark:text-black/40 drop-shadow-[0_1px_0_rgba(255,255,255,0.3)] dark:drop-shadow-[0_1px_0_rgba(255,255,255,0.05)]",style:{fontSize:"60cqmin"},children:l})})),ee=j.memo(()=>{const l=y(n=>n.tiles),s=y(n=>n.gridSize),a=y(n=>n.contentType),r=y(n=>n.selectedImageId),i=y(n=>n.moveTile),t=y(n=>n.moveInDirection),o=y(n=>n.showHints),d=y(n=>n.isSolved),p=y(n=>n.isAutoSolved),f=y(n=>n.isAutoSolving),g=y(n=>n.moveCount),m=y(n=>n.isPeeking),h=H(n=>n.enableTilt),x=j.useMemo(()=>M.find(n=>n.id===r)||M[0],[r]),b=j.useMemo(()=>100/s,[s]),u=s*s;j.useEffect(()=>{const n=w=>{d||f||["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.key==="ArrowUp"&&t("UP"),w.key==="ArrowDown"&&t("DOWN"),w.key==="ArrowLeft"&&t("LEFT"),w.key==="ArrowRight"&&t("RIGHT"))};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[d,f,t]);const k=j.useRef(null),N=n=>{k.current={x:n.touches[0].clientX,y:n.touches[0].clientY}},c=n=>{if(!k.current||d||f)return;const w=n.changedTouches[0].clientX-k.current.x,I=n.changedTouches[0].clientY-k.current.y;k.current=null;const L=30;(Math.abs(w)>L||Math.abs(I)>L)&&(Math.abs(w)>Math.abs(I)?w>0?t("RIGHT"):t("LEFT"):I>0?t("DOWN"):t("UP"))},v=j.useMemo(()=>({width:"100%",maxWidth:"100%",aspectRatio:"1/1",transform:h?"rotateX(5deg)":"none"}),[h]),A=j.useMemo(()=>({gridTemplateColumns:`repeat(${s}, 1fr)`,gridTemplateRows:`repeat(${s}, 1fr)`,direction:a==="URDU"?"rtl":"ltr"}),[s,a]),C=j.useMemo(()=>a==="IMAGE"?null:Array.from({length:u}).map((n,w)=>{const I=w===u-1?"":B(w,a);return e.jsx(Q,{content:I,isLast:w===u-1},w)}),[u,a]),T=j.useCallback(n=>{i(n)},[i]);return e.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-0 md:p-4 perspective-1000",children:e.jsx("div",{className:`
                    relative 
                    bg-slate-300 dark:bg-slate-800 
                    rounded-xl md:rounded-2xl
                    p-2 md:p-3
                    shadow-[0_20px_50px_rgba(0,0,0,0.3),_0_10px_0_#94a3b8] dark:shadow-[0_30px_60px_-10px_rgba(0,0,0,0.6),_0_10px_0_#0f172a]
                    border-b-8 border-r-8 border-[#94a3b8] dark:border-[#0f172a]
                    will-change-transform
                    touch-none
                    ${d?"ring-4 ring-emerald-400 shadow-emerald-500/50":""}
                    ${f?"pointer-events-none":""}
                `,style:v,onTouchStart:N,onTouchEnd:c,children:e.jsxs("div",{className:"relative w-full h-full rounded-lg md:rounded-xl overflow-hidden bg-black/10 shadow-inner",children:[a==="IMAGE"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`absolute inset-0 bg-slate-200 dark:bg-slate-700 z-0 ${o||m?"opacity-100":"opacity-0"}`}),e.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`url(${x.src})`,backgroundSize:"100% 100%",opacity:m?.8:o?.2:0,transition:"opacity 300ms ease-out"}})]}),a!=="IMAGE"&&e.jsx("div",{className:"absolute inset-0 grid w-full h-full pointer-events-none z-0",style:A,children:C}),l.map(n=>e.jsx(Z,{...n,sizePct:b,gridSize:s,type:a,selectedImageId:r,onClick:T,showHints:o,isCorrectPosition:n.currentPos===n.correctPos,isPeeking:m},n.id)),a==="IMAGE"&&m&&e.jsx("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-30 pointer-events-none animate-fade-in",children:e.jsx("span",{className:"bg-black/60 text-white px-3 py-1 rounded-full text-xs font-bold backdrop-blur-md border border-white/20 shadow-lg",children:"Peeking"})}),d&&!p&&!m&&e.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fade-in rounded-lg",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 px-8 py-4 rounded-2xl shadow-2xl transform scale-110 animate-bounce-in text-center",children:[e.jsx("span",{className:"text-5xl block mb-2",children:"ðŸŽ‰"}),e.jsx("span",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Solved!"}),e.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:["in ",g," moves"]})]})})]})})})}),$=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 md:w-5 md:h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125-1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),se=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 md:w-5 md:h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),te=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 md:w-5 md:h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),ae=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 md:w-5 md:h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z"})}),ie=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 md:w-5 md:h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),le=()=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 md:w-5 md:h-5",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),re=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 md:w-5 md:h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}),de=()=>{const{isPlaying:l,isSolved:s,isAutoSolved:a,isAutoSolving:r,isPeeking:i,togglePeek:t,moveCount:o,resetGame:d,stopGame:p,contentType:f,showHints:g,startGame:m,gridSize:h,bestScores:x,autoSolve:b,cancelAutoSolve:u}=y(),{setView:k}=H(),[N,c]=j.useState(!1);j.useEffect(()=>{c(!!(s&&!a))},[s,a]);const v=()=>{d(),k(W.HOME)},A=()=>{p()},C=x[h]||0;return e.jsxs("div",{className:"flex flex-col h-screen w-full bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white relative overflow-hidden transition-colors duration-500",children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-40",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_#f472b6_0%,_#f1f5f9_50%)] dark:bg-[radial-gradient(circle_at_top_right,_#831843_0%,_#0f172a_50%)]"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1/2 bg-[radial-gradient(ellipse_at_bottom_left,_#fbcfe8_0%,_transparent_50%)] dark:bg-[radial-gradient(ellipse_at_bottom_left,_#500724_0%,_transparent_50%)]"})]}),e.jsxs("header",{className:"shrink-0 h-16 md:h-20 px-3 md:px-8 flex items-center justify-between z-30 bg-white/60 dark:bg-black/20 backdrop-blur-md border-b border-slate-200 dark:border-white/5 shadow-sm transition-colors duration-300",children:[e.jsx("div",{className:"flex-1 flex justify-start min-w-0",children:e.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-row text-left",children:[e.jsx("div",{className:"relative w-10 h-10 md:w-14 md:h-14 rounded-xl md:rounded-2xl flex items-center justify-center bg-gradient-to-br from-pink-500 to-rose-600 shadow-lg shadow-pink-500/30 border-2 border-pink-400",children:e.jsx("span",{className:"text-lg md:text-2xl font-black text-white",children:"#"})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("h2",{className:"text-sm md:text-lg font-bold text-slate-700 dark:text-white leading-tight",children:"Moves"}),e.jsx("div",{className:"px-2 py-0.5 mt-0.5 rounded-md bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white text-[10px] md:text-xs font-mono font-bold w-fit",children:l?o:"-"})]})]})}),e.jsx("div",{className:"shrink-0 flex items-center gap-2 mx-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx(z,{variant:"icon",size:"sm",onClick:A,disabled:r,title:"Back to Configuration",className:"w-9 h-9 md:w-11 md:h-11 p-2",children:e.jsx(se,{})}),e.jsx(z,{variant:"icon",size:"sm",onClick:()=>m(),disabled:r,title:"Restart Game",className:"w-9 h-9 md:w-11 md:h-11 p-2",children:e.jsx(te,{})}),e.jsx(z,{variant:"icon",size:"sm",onClick:v,disabled:r,title:"Home",className:"w-9 h-9 md:w-11 md:h-11 p-2",children:e.jsx($,{})}),e.jsx("div",{className:"w-px h-6 bg-slate-300 dark:bg-slate-600 mx-1"}),!s&&(r?e.jsx(z,{variant:"icon",size:"sm",onClick:u,title:"Stop Auto Solve",className:"w-9 h-9 md:w-11 md:h-11 p-2 !text-red-500 dark:!text-red-400 bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800",children:e.jsx(ie,{})}):e.jsx(z,{variant:"icon",size:"sm",onClick:b,title:"Auto Solve (Magic)",className:"w-9 h-9 md:w-11 md:h-11 p-2 !text-pink-500 dark:!text-pink-400",children:e.jsx(ae,{})})),f==="IMAGE"&&!s&&!r&&e.jsx(z,{variant:"icon",size:"sm",onClick:t,title:i?"Hide Image":"View Image",className:`w-9 h-9 md:w-11 md:h-11 p-2 transition-colors ${i?"!bg-indigo-100 dark:!bg-indigo-900/30 !text-indigo-600 dark:!text-indigo-400 border-indigo-300 dark:border-indigo-700 shadow-inner":""}`,children:i?e.jsx(re,{}):e.jsx(le,{})})]}):e.jsx("div",{className:"flex flex-col items-center",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(z,{variant:"icon",size:"sm",onClick:v,title:"Home",className:"w-9 h-9 md:w-11 md:h-11 p-2",children:e.jsx($,{})})})})}),e.jsx("div",{className:"flex-1 flex justify-end min-w-0",children:e.jsxs("div",{className:"flex items-center gap-3 md:gap-4 flex-row-reverse text-right",children:[e.jsx("div",{className:"relative w-10 h-10 md:w-14 md:h-14 rounded-xl md:rounded-2xl flex items-center justify-center bg-gradient-to-br from-indigo-500 to-indigo-700 shadow-lg shadow-indigo-500/30 border-2 border-indigo-400",children:e.jsx("span",{className:"text-lg md:text-2xl font-black text-white",children:"ðŸ†"})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("h2",{className:"text-sm md:text-lg font-bold text-slate-700 dark:text-white leading-tight",children:"Best"}),e.jsx("div",{className:"px-2 py-0.5 mt-0.5 rounded-md bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-900 dark:text-white text-[10px] md:text-xs font-mono font-bold self-end",children:C>0?C:"-"})]})]})})]}),e.jsxs("main",{className:"flex-1 h-screen w-screen flex items-center justify-center p-2 pb-20 relative z-10 perspective-1000",children:[l?e.jsx("div",{className:`
                        relative aspect-square 
                        portrait:w-full portrait:max-h-full
                        landscape:h-full landscape:max-w-full
                        flex items-center justify-center
                    `,children:e.jsx("div",{className:"w-full h-screen flex items-center justify-center animate-fade-in",children:e.jsx(ee,{})})}):e.jsx(K,{}),N&&e.jsxs("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 animate-fade-in",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-[2px] transition-opacity duration-300",onClick:()=>c(!1)}),e.jsxs("div",{className:"relative bg-white/50 dark:bg-slate-800/50 backdrop-blur-xl p-8 rounded-3xl shadow-2xl max-w-sm w-full text-center border-4 border-emerald-400/50 dark:border-emerald-500/30 animate-bounce-in",children:[e.jsx("button",{onClick:()=>c(!1),className:"absolute top-4 right-4 p-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-white transition-colors bg-white/50 dark:bg-black/20 rounded-full",title:"Close to View Board",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("div",{className:"text-6xl mb-4",children:"ðŸŒŸ"}),e.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white mb-2 drop-shadow-sm",children:"Puzzle Solved!"}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mb-6 font-medium",children:["You completed it in ",e.jsx("strong",{className:"text-emerald-600 dark:text-emerald-400",children:o})," moves."]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(z,{onClick:()=>m(),size:"lg",className:"w-full !bg-pink-500 hover:!bg-pink-400 shadow-lg",children:"Play Again"}),e.jsx(z,{onClick:d,variant:"secondary",className:"w-full !bg-white/50 dark:!bg-black/20 hover:!bg-white/80 dark:hover:!bg-black/40",children:"Change Settings"})]})]})]})]})]})};export{de as SlidingPuzzleGame};
