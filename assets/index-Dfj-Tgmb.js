import{P as d,c as $,p as j,u as W,r as x,j as e,B as v,V as S}from"./index-PbUYlR_c.js";var u=(t=>(t.IDLE="IDLE",t.PLAYING="PLAYING",t.WON="WON",t.DRAW="DRAW",t))(u||{});const p=8,V={[d.ONE]:{color:"BLACK",displayColor:"bg-slate-800 dark:bg-slate-900",textColor:"text-slate-800 dark:text-slate-300",gradient:"from-slate-700 to-black",shadowColor:"shadow-slate-900/50",borderColor:"border-slate-600",label:"Black"},[d.TWO]:{color:"WHITE",displayColor:"bg-white",textColor:"text-slate-800 dark:text-slate-200",gradient:"from-white to-slate-300",shadowColor:"shadow-slate-200/50",borderColor:"border-white",label:"White"}},H=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],G=()=>{const t=[];for(let s=0;s<p;s++){const r=[];for(let l=0;l<p;l++)r.push({row:s,col:l,owner:null,isValidMove:!1,isFlipping:!1});t.push(r)}const a=p/2;return t[a-1][a-1].owner="WHITE",t[a-1][a].owner="BLACK",t[a][a-1].owner="BLACK",t[a][a].owner="WHITE",t},E=(t,a,s,r)=>{if(t[a][s].owner!==null)return!1;const l=r==="BLACK"?"WHITE":"BLACK";for(const[i,o]of H){let m=a+i,n=s+o,c=!1;for(;m>=0&&m<p&&n>=0&&n<p;){const h=t[m][n].owner;if(h===l)c=!0;else if(h===r){if(c)return!0;break}else break;m+=i,n+=o}}return!1},K=(t,a)=>t.map(s=>s.map(r=>({...r,isValidMove:E(t,r.row,r.col,a)}))),L=(t,a)=>{for(let s=0;s<p;s++)for(let r=0;r<p;r++)if(E(t,s,r,a))return!0;return!1},F=(t,a,s,r)=>{const l=t.map(m=>m.map(n=>({...n})));l[a][s].owner=r,l[a][s].isFlipping=!0;const i=r==="BLACK"?"WHITE":"BLACK";let o=0;for(const[m,n]of H){let c=a+m,h=s+n;const b=[];for(;c>=0&&c<p&&h>=0&&h<p;){const w=l[c][h].owner;if(w===i)b.push({r:c,c:h});else if(w===r){b.length>0&&b.forEach(f=>{l[f.r][f.c].owner=r,l[f.r][f.c].isFlipping=!0,o++});break}else break;c+=m,h+=n}}return{newBoard:l,flippedCount:o}},Z=t=>{let a=0,s=0;return t.forEach(r=>r.forEach(l=>{l.owner==="BLACK"&&a++,l.owner==="WHITE"&&s++})),{BLACK:a,WHITE:s}},q=[[100,-20,10,5,5,10,-20,100],[-20,-50,-2,-2,-2,-2,-50,-20],[10,-2,-1,-1,-1,-1,-2,10],[5,-2,-1,-1,-1,-1,-2,5],[5,-2,-1,-1,-1,-1,-2,5],[10,-2,-1,-1,-1,-1,-2,10],[-20,-50,-2,-2,-2,-2,-50,-20],[100,-20,10,5,5,10,-20,100]],J=(t,a)=>{const s=[];for(let i=0;i<p;i++)for(let o=0;o<p;o++)E(t,i,o,a)&&s.push({r:i,c:o});if(s.length===0)return null;let r=s[0],l=-1/0;s.sort(()=>Math.random()-.5);for(const i of s){let o=q[i.r][i.c];(i.r===0||i.r===7)&&(i.c===0||i.c===7)&&(o+=1e3),o>l&&(l=o,r=i)}return{row:r.r,col:r.c}},R="reversi-state-v1",Y=t=>{if(typeof window<"u"){const{board:a,turn:s,status:r,winner:l,players:i,gameMode:o,botStats:m,pvpStats:n}=t,c={board:a,turn:s,status:r,winner:l,players:i,gameMode:o,botStats:m,pvpStats:n};window.localStorage.setItem(R,JSON.stringify(c))}},X=()=>{const t={status:u.IDLE,gameMode:"PVP",turn:"BLACK",board:G(),winner:null,players:{[d.ONE]:{id:d.ONE,name:"Player 1",color:"BLACK",score:2},[d.TWO]:{id:d.TWO,name:"Player 2",color:"WHITE",score:2}},botStats:{playerWins:0,botWins:0},pvpStats:{player1Wins:0,player2Wins:0},possibleMoves:[],noMovesAlert:!1,hasSavedGame:!1,isBotThinking:!1};if(typeof window<"u")try{const a=window.localStorage.getItem(R);if(a){const s=JSON.parse(a);if(s.botStats&&(t.botStats=s.botStats),s.pvpStats&&(t.pvpStats=s.pvpStats),s.gameMode&&(t.gameMode=s.gameMode),s.status===u.PLAYING)return{...t,...s,status:u.IDLE,hasSavedGame:!0,isBotThinking:!1}}}catch(a){console.warn("Failed to load Reversi state",a)}return t},g=$((t,a)=>({...X(),startGame:(s="PVP")=>{j("start");const r=G(),l=K(r,"BLACK"),{players:i}=a(),o={...i};if(s==="PVB")o[d.ONE]={...o[d.ONE],name:"You",score:2},o[d.TWO]={...o[d.TWO],name:"Bot",score:2};else{const n=W.getState().players;o[d.ONE]={...o[d.ONE],name:n[d.ONE].name,score:2},o[d.TWO]={...o[d.TWO],name:n[d.TWO].name,score:2}}const m={status:u.PLAYING,gameMode:s,board:l,turn:"BLACK",winner:null,players:o,noMovesAlert:!1,hasSavedGame:!1,isBotThinking:!1};t(m),Y(m)},resumeGame:()=>{j("click"),t({status:u.PLAYING});const{turn:s,gameMode:r}=a();r==="PVB"&&s==="WHITE"&&setTimeout(()=>{const l=a();l.status===u.PLAYING&&l.turn==="WHITE"&&l.placeDisc(-1,-1)},500)},resetGame:()=>{j("click"),t({status:u.IDLE,hasSavedGame:a().status===u.PLAYING,noMovesAlert:!1,isBotThinking:!1})},placeDisc:(s,r)=>{const{board:l,turn:i,players:o,status:m,gameMode:n,isBotThinking:c}=a();if(m!==u.PLAYING)return;let h=s,b=r;if(n==="PVB"&&i==="WHITE"){if(c||s!==-1)return;t({isBotThinking:!0}),setTimeout(()=>{const f=J(l,"WHITE");f?C(f.row,f.col):C(-1,-1),t({isBotThinking:!1})},800);return}C(h,b)},syncPlayers:s=>{t(r=>r.gameMode==="PVB"?{players:{[d.ONE]:{...r.players[d.ONE],name:"You"},[d.TWO]:{...r.players[d.TWO],name:"Bot"}}}:{players:{[d.ONE]:{...r.players[d.ONE],name:s[d.ONE].name},[d.TWO]:{...r.players[d.TWO],name:s[d.TWO].name}}})},dismissAlert:()=>t({noMovesAlert:!1})})),C=(t,a)=>{const s=g.getState(),{board:r,turn:l,players:i,gameMode:o,botStats:m,pvpStats:n}=s,{newBoard:c,flippedCount:h}=F(r,t,a,l);h>0&&(j("drop"),setTimeout(()=>j("click"),200)),setTimeout(()=>{g.setState(_=>({board:_.board.map(D=>D.map(z=>({...z,isFlipping:!1})))}))},600);const b=Z(c),w=l==="BLACK"?"WHITE":"BLACK";let f=L(c,w),y=w,M=!1,k=null,N=u.PLAYING,B=m,T=n;f||(L(c,l)?(y=l,M=!0):(k=b.BLACK>b.WHITE?"BLACK":b.WHITE>b.BLACK?"WHITE":null,N=b.BLACK===b.WHITE?u.DRAW:u.WON,j("win"),o==="PVB"&&k?(k==="BLACK"&&(B={...m,playerWins:m.playerWins+1}),k==="WHITE"&&(B={...m,botWins:m.botWins+1})):k&&(k==="BLACK"&&(T={...n,player1Wins:n.player1Wins+1}),k==="WHITE"&&(T={...n,player2Wins:n.player2Wins+1}))));const A={board:N===u.PLAYING?K(c,y):c,turn:y,noMovesAlert:M,status:N,winner:k,players:{[d.ONE]:{...i[d.ONE],score:b.BLACK},[d.TWO]:{...i[d.TWO],score:b.WHITE}},hasSavedGame:N===u.PLAYING,botStats:B,pvpStats:T};g.setState(A),Y({...s,...A}),N===u.PLAYING&&o==="PVB"&&y==="WHITE"&&setTimeout(()=>{const _=g.getState();_.status===u.PLAYING&&_.turn==="WHITE"&&_.placeDisc(-1,-1)},500)},Q=x.memo(({owner:t,isValidMove:a,isFlipping:s})=>{const r=x.useMemo(()=>t==="BLACK"?"rotateY(180deg)":"rotateY(0deg)",[t]),l=x.useMemo(()=>({transform:s?`${r} translateZ(30px) scale(1.15)`:`${r} translateZ(2px)`}),[s,r]),i=x.useMemo(()=>({transform:s?"scale(0.6) translateY(20%)":"scale(1) translateY(5%)",opacity:s?.3:.6}),[s]);return e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center preserve-3d",children:[!t&&a&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:`
                w-[40%] h-[40%] rounded-full 
                bg-teal-500/30 dark:bg-teal-400/20 
                border border-teal-500/40 dark:border-teal-400/40
                shadow-[0_0_15px_rgba(20,184,166,0.3)] dark:shadow-[0_0_15px_rgba(45,212,191,0.2)]
                animate-pulse
             `})}),t&&e.jsx("div",{className:"absolute bottom-0 w-[80%] h-[80%] rounded-full bg-slate-900/40 dark:bg-black/60 blur-[4px] will-change-transform",style:i}),t&&e.jsxs("div",{className:"w-full h-full relative preserve-3d will-change-transform",style:{...l,transition:"transform 700ms cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[e.jsxs("div",{className:"absolute inset-0 backface-hidden rounded-full",style:{transform:"rotateY(0deg) translateZ(1px)",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"},children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-white via-[#f1f5f9] to-[#cbd5e1] border border-white/60 shadow-[inset_0_-2px_4px_rgba(0,0,0,0.1)]"}),e.jsx("div",{className:"absolute inset-[15%] rounded-full border border-black/5 shadow-[inset_0_2px_4px_rgba(0,0,0,0.1)]"}),e.jsx("div",{className:"absolute top-[5%] left-[20%] w-[60%] h-[30%] bg-gradient-to-b from-white to-transparent opacity-90 rounded-[50%]"})]}),e.jsxs("div",{className:"absolute inset-0 backface-hidden rounded-full",style:{transform:"rotateY(180deg) translateZ(1px)",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"},children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-[#334155] via-[#1e293b] to-[#020617] border border-slate-600/30 shadow-[inset_0_-2px_4px_rgba(0,0,0,0.5)]"}),e.jsx("div",{className:"absolute inset-[15%] rounded-full border border-white/10 shadow-[inset_0_2px_4px_rgba(0,0,0,0.5)]"}),e.jsx("div",{className:"absolute top-[5%] left-[20%] w-[60%] h-[30%] bg-gradient-to-b from-slate-500/40 to-transparent opacity-80 rounded-[50%]"})]}),e.jsx("div",{className:"absolute inset-[1px] rounded-full border-[3px] border-[#64748b] -z-10",style:{transform:"rotateY(90deg)",opacity:.5}})]})]})},(t,a)=>t.owner===a.owner&&t.isValidMove===a.isValidMove&&t.isFlipping===a.isFlipping),U=x.memo(({cell:t,isClickable:a,onPlace:s})=>{const{row:r,col:l,owner:i,isValidMove:o,isFlipping:m}=t,n=a&&o,c=x.useCallback(()=>{n&&s(r,l)},[n,r,l,s]);return e.jsxs("div",{className:`
                relative 
                bg-slate-200 dark:bg-[#1e293b]
                rounded-[4px] sm:rounded-md
                flex items-center justify-center 
                shadow-[inset_0_4px_6px_rgba(0,0,0,0.1),_0_1px_0_rgba(255,255,255,0.8)] dark:shadow-[inset_0_4px_6px_rgba(0,0,0,0.6),_0_1px_0_rgba(255,255,255,0.1)]
                border-t border-black/5 dark:border-black/20
                border-b border-white/50 dark:border-white/5
            `,children:[e.jsx("button",{type:"button",onClick:c,disabled:!n,className:`
                    absolute inset-0 z-50 w-full h-full 
                    focus:outline-none 
                    touch-manipulation
                    ${n?"cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 active:bg-black/10":"cursor-default"}
                `,"aria-label":`Place disc at row ${r+1}, column ${l+1}`}),e.jsx("div",{className:"absolute inset-[10%] rounded-full bg-slate-300 dark:bg-[#020617] shadow-[inset_0_2px_4px_rgba(0,0,0,0.2)] dark:shadow-[inset_0_2px_4px_rgba(0,0,0,1)] opacity-60 pointer-events-none"}),(r===2&&l===2||r===2&&l===6||r===6&&l===2||r===6&&l===6)&&!i&&e.jsx("div",{className:"absolute w-1.5 h-1.5 bg-slate-400 dark:bg-teal-500/30 rounded-full dark:shadow-[0_0_5px_rgba(20,184,166,0.5)] shadow-[inset_0_1px_2px_rgba(0,0,0,0.2)] pointer-events-none"}),e.jsx("div",{className:"w-[96%] h-[96%] relative flex items-center justify-center z-10 pointer-events-none preserve-3d",children:e.jsx(Q,{owner:i,isValidMove:o,isFlipping:m})})]})},(t,a)=>t.cell.owner===a.cell.owner&&t.cell.isValidMove===a.cell.isValidMove&&t.cell.isFlipping===a.cell.isFlipping&&t.isClickable===a.isClickable),ee=x.memo(()=>{const t=g(n=>n.board),a=g(n=>n.placeDisc),s=g(n=>n.status),r=W(n=>n.enableTilt),l=s===u.PLAYING,i=x.useCallback((n,c)=>{a(n,c)},[a]),o=x.useMemo(()=>({width:"100%",maxWidth:"100%",aspectRatio:"1/1",transform:r?"rotateX(20deg)":"none"}),[r]),m=x.useMemo(()=>({gridTemplateColumns:`repeat(${p}, minmax(0, 1fr))`,gridTemplateRows:`repeat(${p}, minmax(0, 1fr))`,touchAction:"none"}),[]);return e.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-4 perspective-1000",children:e.jsxs("div",{className:`
                    relative 
                    bg-slate-300 dark:bg-[#334155] 
                    rounded-xl 
                    shadow-[0_30px_60px_-15px_rgba(0,0,0,0.3),_0_12px_0_#94a3b8] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.7),_0_12px_0_#1e293b]
                    border-4 border-slate-400 dark:border-[#475569]
                    p-1.5 sm:p-2
                    preserve-3d
                    will-change-transform
                `,style:o,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/40 to-transparent dark:from-white/5 rounded-lg pointer-events-none"}),e.jsx("div",{className:`
                        grid gap-1 sm:gap-2 w-full h-full
                        bg-slate-400 dark:bg-[#0f172a]
                        rounded-lg
                        p-0.5 sm:p-1
                        shadow-[inset_0_2px_10px_rgba(0,0,0,0.2)] dark:shadow-[inset_0_2px_10px_rgba(0,0,0,0.5)]
                        border border-slate-400/50 dark:border-slate-700/50
                    `,style:m,children:t.map((n,c)=>n.map((h,b)=>e.jsx(U,{cell:h,isClickable:l,onPlace:i},`${c}-${b}`)))})]})})}),O=x.memo(({playerId:t,alignment:a})=>{const s=g(c=>c.players[t]),r=g(c=>c.turn),l=g(c=>c.winner),i=V[t],o=x.useMemo(()=>r==="BLACK"&&t===d.ONE||r==="WHITE"&&t===d.TWO,[r,t]),m=x.useMemo(()=>l==="BLACK"&&t===d.ONE||l==="WHITE"&&t===d.TWO,[l,t]),n=a==="right";return e.jsxs("div",{className:`
        flex items-center gap-3 md:gap-4
        transition-all duration-300
        ${n?"flex-row-reverse text-right":"flex-row text-left"}
        ${o?"opacity-100 scale-105":"opacity-60 grayscale-[0.3] scale-100"}
      `,children:[e.jsxs("div",{className:`
          relative
          w-10 h-10 md:w-14 md:h-14 rounded-xl md:rounded-2xl
          flex items-center justify-center
          bg-gradient-to-br ${i.gradient}
          shadow-lg ${o?i.shadowColor:"shadow-none"}
          border-2 ${o?"border-teal-400":i.borderColor}
          transition-all duration-300
        `,children:[e.jsx("div",{className:`
            w-6 h-6 md:w-8 md:h-8 rounded-full shadow-inner 
            ${t===d.ONE?"bg-black border border-slate-700":"bg-white border border-slate-200"}
        `}),m&&e.jsx("div",{className:"absolute -top-3 -right-3 text-2xl animate-bounce",children:"üëë"})]}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("h2",{className:"text-sm md:text-lg font-bold text-slate-700 dark:text-white leading-tight transition-colors",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsxs("div",{className:`
               px-2 py-0.5 rounded-md 
               bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-300
               text-[10px] md:text-xs font-mono
               transition-colors
             `,children:["Count: ",e.jsx("span",{className:"text-slate-900 dark:text-white font-bold",children:s.score})]}),o&&!l&&e.jsx("div",{className:`
                 hidden sm:block px-2 py-0.5 rounded-full 
                 bg-teal-600 text-white 
                 text-[10px] font-bold uppercase tracking-wider animate-pulse
               `,children:"Turn"})]})]})]})}),te=()=>{const{status:t,winner:a,startGame:s,resetGame:r,players:l,gameMode:i}=g(),{setView:o}=W(),[m,n]=x.useState(!1);if(x.useEffect(()=>{t===u.WON||t===u.DRAW?n(!0):n(!1)},[t]),!m||t!==u.WON&&t!==u.DRAW)return null;const c=a==="BLACK"?d.ONE:d.TWO,h=a?V[c]:null,b=()=>{r(),o(S.HOME)},w=()=>{s(i)},f=c?l[c].name:"";return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-[2px] transition-opacity duration-300",onClick:()=>n(!1)}),e.jsxs("div",{className:"relative bg-white/50 dark:bg-slate-800/50 backdrop-blur-xl rounded-3xl p-8 max-w-md w-full text-center shadow-2xl border border-white/40 dark:border-slate-700/40 animate-bounce-in transform transition-all duration-300",children:[e.jsx("button",{onClick:()=>n(!1),className:"absolute top-4 right-4 p-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-white transition-colors bg-white/50 dark:bg-black/20 rounded-full",title:"Close to View Board",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),t===u.WON&&h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`mx-auto w-24 h-24 rounded-full bg-gradient-to-br ${h.gradient} flex items-center justify-center mb-6 shadow-xl border-4 border-white/30 dark:border-slate-600/30`,children:e.jsx("span",{className:"text-5xl",children:a==="BLACK"?"‚ö´":"‚ö™"})}),e.jsxs("h2",{className:"text-4xl font-black text-slate-900 dark:text-white mb-2 uppercase tracking-tight drop-shadow-sm",children:[f," Wins!"]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-8 font-medium",children:"Total domination of the board."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mx-auto w-24 h-24 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center mb-6",children:e.jsx("span",{className:"text-5xl",children:"ü§ù"})}),e.jsx("h2",{className:"text-4xl font-black text-slate-900 dark:text-white mb-2 drop-shadow-sm",children:"Draw!"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-8 font-medium",children:"A perfectly balanced game."})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(v,{onClick:w,size:"lg",className:"w-full !bg-teal-600 hover:!bg-teal-500 shadow-lg",children:"Play Again"}),e.jsx(v,{onClick:b,variant:"secondary",className:"w-full !bg-white/50 dark:!bg-black/20 hover:!bg-white/80 dark:hover:!bg-black/40",children:"Back to Menu"})]})]})]})},I=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 md:w-5 md:h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),se=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 md:w-5 md:h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),P=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 mr-2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 002.25-2.25V6.75a2.25 2.25 0 00-2.25-2.25H6.75A2.25 2.25 0 004.5 6.75v10.5a2.25 2.25 0 002.25 2.25zm.75-12h9v9h-9v-9z"})}),ne=()=>{const{status:t,startGame:a,resumeGame:s,resetGame:r,syncPlayers:l,turn:i,winner:o,noMovesAlert:m,dismissAlert:n,hasSavedGame:c,gameMode:h}=g(),{setView:b,players:w}=W();x.useEffect(()=>{l(w)},[w,l]);const f=()=>{r(),b(S.HOME)};return e.jsxs("div",{className:"flex flex-col h-screen w-full bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white relative overflow-hidden transition-colors duration-500",children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-40",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_#99f6e4_0%,_#f1f5f9_50%)] dark:bg-[radial-gradient(circle_at_top_right,_#115e59_0%,_#0f172a_50%)]"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1/2 bg-[radial-gradient(ellipse_at_bottom_left,_#cbd5e1_0%,_transparent_50%)] dark:bg-[radial-gradient(ellipse_at_bottom_left,_#334155_0%,_transparent_50%)]"})]}),e.jsxs("header",{className:"shrink-0 h-16 md:h-20 px-3 md:px-8 flex items-center justify-between z-30 bg-white/60 dark:bg-black/20 backdrop-blur-md border-b border-slate-200 dark:border-white/5 relative shadow-sm transition-colors duration-300",children:[e.jsx("div",{className:"flex-1 flex justify-start min-w-0",children:e.jsx(O,{playerId:d.ONE,alignment:"left"})}),e.jsx("div",{className:"shrink-0 flex gap-2 mx-2",children:t!==u.IDLE?e.jsxs(e.Fragment,{children:[e.jsx(v,{variant:"icon",size:"sm",onClick:f,title:"Return to Menu",className:"w-9 h-9 md:w-11 md:h-11 p-2",children:e.jsx(I,{})}),e.jsx(v,{variant:"icon",size:"sm",onClick:()=>a(h),title:"Restart Game",className:"w-9 h-9 md:w-11 md:h-11 p-2",children:e.jsx(se,{})})]}):e.jsx(v,{variant:"icon",size:"sm",onClick:f,title:"Return to Menu",className:"w-9 h-9 md:w-11 md:h-11 p-2",children:e.jsx(I,{})})}),e.jsx("div",{className:"flex-1 flex justify-end min-w-0",children:e.jsx(O,{playerId:d.TWO,alignment:"right"})})]}),e.jsx("main",{className:"flex-1 h-screen w-screen flex items-center justify-center p-2 pb-20 relative z-10 perspective-1000",children:e.jsx("div",{className:`
                    relative aspect-square 
                    portrait:w-full portrait:max-h-full
                    landscape:h-full landscape:max-w-full
                    flex items-center justify-center
                `,children:t===u.IDLE?e.jsxs("div",{className:"w-full h-full max-w-md max-h-md aspect-square bg-white/80 dark:bg-[#1e293b]/90 backdrop-blur-xl rounded-xl border border-white dark:border-slate-700 shadow-2xl p-6 md:p-8 flex flex-col items-center justify-center text-center animate-bounce-in mx-auto transition-colors duration-300",children:[e.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-slate-100 dark:bg-[#0f172a] rounded-full flex items-center justify-center text-3xl md:text-4xl mb-4 md:mb-6 border-2 border-slate-200 dark:border-slate-600 shadow-inner shrink-0 text-slate-900 dark:text-white",children:"‚ö™"}),e.jsx("h1",{className:"text-2xl md:text-3xl font-black text-slate-900 dark:text-white mb-2 shrink-0 font-sans tracking-tight",children:"Reversi"}),e.jsx("p",{className:"text-sm md:text-base text-slate-500 dark:text-slate-400 mb-6 md:mb-8 font-medium shrink-0",children:"Classic Strategy"}),e.jsx("div",{className:"w-full flex flex-col gap-3 shrink-0",children:c?e.jsxs(e.Fragment,{children:[e.jsx(v,{onClick:s,size:"lg",className:"w-full !bg-teal-600 hover:!bg-teal-500 !text-white !shadow-[0_4px_0_#0f766e] active:!shadow-none shrink-0 border-none",children:"Continue Game"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(v,{onClick:()=>a("PVP"),variant:"secondary",size:"md",children:"PVP New"}),e.jsxs(v,{onClick:()=>a("PVB"),variant:"secondary",size:"md",className:"!bg-teal-100 dark:!bg-teal-900/30 !text-teal-700 dark:!text-teal-300",children:[e.jsx(P,{})," vs Bot"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{onClick:()=>a("PVP"),size:"lg",className:"w-full !bg-teal-600 hover:!bg-teal-500 !text-white !shadow-[0_4px_0_#0f766e] active:!shadow-none shrink-0 border-none",children:"Player vs Player"}),e.jsxs(v,{onClick:()=>a("PVB"),variant:"secondary",size:"lg",className:"w-full shadow-md !bg-teal-100 dark:!bg-slate-700/50 !text-teal-700 dark:!text-teal-300 border border-teal-200 dark:border-slate-600",children:[e.jsx(P,{})," Play against Bot"]})]})})]}):e.jsx("div",{className:"w-full h-screen flex items-center justify-center animate-fade-in",children:e.jsx(ee,{})})})}),m&&!o&&e.jsx("div",{className:"absolute top-24 left-1/2 -translate-x-1/2 z-50 animate-bounce-in",children:e.jsxs("div",{className:"bg-[#f59e0b] text-[#3e2723] px-6 py-3 rounded-full shadow-lg font-bold flex items-center gap-3 border-2 border-[#fcd34d]",children:[e.jsxs("span",{children:["‚ö†Ô∏è No moves for ",i==="BLACK"?"Black":"White","! Passing..."]}),e.jsx("button",{onClick:n,className:"w-6 h-6 bg-black/10 rounded-full flex items-center justify-center hover:bg-black/20",children:"‚úï"})]})}),e.jsx(te,{})]})};export{ne as ReversiGame};
