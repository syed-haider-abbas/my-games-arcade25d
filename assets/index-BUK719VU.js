import{P as c,c as D,p as _,u as C,r as b,j as e,B as j,V as O}from"./index-B2V7oyDL.js";var x=(t=>(t.IDLE="IDLE",t.PLAYING="PLAYING",t.WON="WON",t.DRAW="DRAW",t))(x||{});const T=8,P={[c.ONE]:{color:"BLACK",displayColor:"bg-slate-800 dark:bg-slate-900",textColor:"text-slate-800 dark:text-slate-300",gradient:"from-slate-700 to-black",shadowColor:"shadow-slate-900/50",borderColor:"border-slate-600",label:"Black"},[c.TWO]:{color:"WHITE",displayColor:"bg-white",textColor:"text-slate-800 dark:text-slate-200",gradient:"from-white to-slate-300",shadowColor:"shadow-slate-200/50",borderColor:"border-white",label:"White"}},V=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]],H=t=>{const a=[];for(let r=0;r<t;r++){const l=[];for(let i=0;i<t;i++)l.push({row:r,col:i,owner:null,isValidMove:!1,isFlipping:!1});a.push(l)}const s=Math.floor(t/2);return s>0&&(a[s-1][s-1].owner="WHITE",a[s-1][s].owner="BLACK",a[s][s-1].owner="BLACK",a[s][s].owner="WHITE"),a},E=(t,a,s,r)=>{const l=t.length;if(a<0||a>=l||s<0||s>=l||t[a][s].owner!==null)return!1;const i=r==="BLACK"?"WHITE":"BLACK";for(const[u,d]of V){let o=a+u,n=s+d,h=!1;for(;o>=0&&o<l&&n>=0&&n<l;){const m=t[o][n].owner;if(m===i)h=!0;else if(m===r){if(h)return!0;break}else break;o+=u,n+=d}}return!1},G=(t,a)=>t.map(s=>s.map(r=>({...r,isValidMove:E(t,r.row,r.col,a)}))),A=(t,a)=>{const s=t.length;for(let r=0;r<s;r++)for(let l=0;l<s;l++)if(E(t,r,l,a))return!0;return!1},$=(t,a,s,r)=>{const l=t.length,i=t.map(o=>o.map(n=>({...n})));i[a][s].owner=r,i[a][s].isFlipping=!0;const u=r==="BLACK"?"WHITE":"BLACK";let d=0;for(const[o,n]of V){let h=a+o,m=s+n;const p=[];for(;h>=0&&h<l&&m>=0&&m<l;){const v=i[h][m].owner;if(v===u)p.push({r:h,c:m});else if(v===r){p.length>0&&p.forEach(f=>{i[f.r][f.c].owner=r,i[f.r][f.c].isFlipping=!0,d++});break}else break;h+=o,m+=n}}return{newBoard:i,flippedCount:d}},F=t=>{let a=0,s=0;return t.forEach(r=>r.forEach(l=>{l.owner==="BLACK"&&a++,l.owner==="WHITE"&&s++})),{BLACK:a,WHITE:s}},Z=[[100,-20,10,-20,100],[-20,-30,-5,-30,-20],[10,-5,5,-5,10],[-20,-30,-5,-30,-20],[100,-20,10,-20,100]],q=[[100,-20,10,10,-20,100],[-20,-50,-2,-2,-50,-20],[10,-2,-1,-1,-2,10],[10,-2,-1,-1,-2,10],[-20,-50,-2,-2,-50,-20],[100,-20,10,10,-20,100]],J=[[100,-20,10,5,5,10,-20,100],[-20,-50,-2,-2,-2,-2,-50,-20],[10,-2,-1,-1,-1,-1,-2,10],[5,-2,-1,-1,-1,-1,-2,5],[5,-2,-1,-1,-1,-1,-2,5],[10,-2,-1,-1,-1,-1,-2,10],[-20,-50,-2,-2,-2,-2,-50,-20],[100,-20,10,5,5,10,-20,100]],U=t=>t===5?Z:t===6?q:J,X=(t,a)=>{const s=t.length,r=[];for(let d=0;d<s;d++)for(let o=0;o<s;o++)E(t,d,o,a)&&r.push({r:d,c:o});if(r.length===0)return null;let l=r[0],i=-1/0;const u=U(s);r.sort(()=>Math.random()-.5);for(const d of r){let o=u[d.r][d.c];(d.r===0||d.r===s-1)&&(d.c===0||d.c===s-1)&&(o+=1e3),o>i&&(i=o,l=d)}return{row:l.r,col:l.c}},K="reversi-state-v1",z=t=>{if(typeof window<"u"){const{board:a,turn:s,status:r,winner:l,players:i,gameMode:u,boardSize:d,botStats:o,pvpStats:n}=t,h={board:a,turn:s,status:r,winner:l,players:i,gameMode:u,boardSize:d,botStats:o,pvpStats:n};window.localStorage.setItem(K,JSON.stringify(h))}},Q=()=>{const t={status:x.IDLE,gameMode:"PVP",boardSize:T,turn:"BLACK",board:H(T),winner:null,players:{[c.ONE]:{id:c.ONE,name:"Player 1",color:"BLACK",score:2},[c.TWO]:{id:c.TWO,name:"Player 2",color:"WHITE",score:2}},botStats:{playerWins:0,botWins:0},pvpStats:{player1Wins:0,player2Wins:0},possibleMoves:[],noMovesAlert:!1,hasSavedGame:!1,isBotThinking:!1};if(typeof window<"u")try{const a=window.localStorage.getItem(K);if(a){const s=JSON.parse(a);if(s.botStats&&(t.botStats=s.botStats),s.pvpStats&&(t.pvpStats=s.pvpStats),s.gameMode&&(t.gameMode=s.gameMode),s.boardSize&&(t.boardSize=s.boardSize),s.status===x.PLAYING)return{...t,...s,status:x.IDLE,hasSavedGame:!0,isBotThinking:!1}}}catch(a){console.warn("Failed to load Reversi state",a)}return t},g=D((t,a)=>({...Q(),startGame:(s="PVP",r)=>{_("start");const l=r||a().boardSize||T,i=H(l),u=G(i,"BLACK"),{players:d}=a(),o={...d};if(s==="PVB")o[c.ONE]={...o[c.ONE],name:"You",score:2},o[c.TWO]={...o[c.TWO],name:"Bot",score:2};else{const h=C.getState().players;o[c.ONE]={...o[c.ONE],name:h[c.ONE].name,score:2},o[c.TWO]={...o[c.TWO],name:h[c.TWO].name,score:2}}const n={status:x.PLAYING,gameMode:s,boardSize:l,board:u,turn:"BLACK",winner:null,players:o,noMovesAlert:!1,hasSavedGame:!1,isBotThinking:!1};t(n),z(n)},resumeGame:()=>{_("click"),t({status:x.PLAYING});const{turn:s,gameMode:r}=a();r==="PVB"&&s==="WHITE"&&setTimeout(()=>{const l=a();l.status===x.PLAYING&&l.turn==="WHITE"&&l.placeDisc(-1,-1)},500)},resetGame:()=>{_("click"),t({status:x.IDLE,hasSavedGame:a().status===x.PLAYING,noMovesAlert:!1,isBotThinking:!1})},placeDisc:(s,r)=>{const{board:l,turn:i,players:u,status:d,gameMode:o,isBotThinking:n}=a();if(d!==x.PLAYING)return;if(o==="PVB"&&i==="WHITE"){if(n||s!==-1)return;t({isBotThinking:!0}),setTimeout(()=>{const m=X(l,"WHITE");m?M(m.row,m.col):M(-1,-1),t({isBotThinking:!1})},800);return}M(s,r)},syncPlayers:s=>{t(r=>r.gameMode==="PVB"?{players:{[c.ONE]:{...r.players[c.ONE],name:"You"},[c.TWO]:{...r.players[c.TWO],name:"Bot"}}}:{players:{[c.ONE]:{...r.players[c.ONE],name:s[c.ONE].name},[c.TWO]:{...r.players[c.TWO],name:s[c.TWO].name}}})},dismissAlert:()=>t({noMovesAlert:!1})})),M=(t,a)=>{const s=g.getState(),{board:r,turn:l,players:i,gameMode:u,botStats:d,pvpStats:o}=s,{newBoard:n,flippedCount:h}=$(r,t,a,l);h>0&&(_("drop"),setTimeout(()=>_("click"),200)),setTimeout(()=>{g.setState(B=>({board:B.board.map(R=>R.map(Y=>({...Y,isFlipping:!1})))}))},600);const m=F(n),p=l==="BLACK"?"WHITE":"BLACK";let v=A(n,p),f=p,y=!1,w=null,N=x.PLAYING,W=d,k=o;v||(A(n,l)?(f=l,y=!0):(w=m.BLACK>m.WHITE?"BLACK":m.WHITE>m.BLACK?"WHITE":null,N=m.BLACK===m.WHITE?x.DRAW:x.WON,_("win"),u==="PVB"&&w?(w==="BLACK"&&(W={...d,playerWins:d.playerWins+1}),w==="WHITE"&&(W={...d,botWins:d.botWins+1})):w&&(w==="BLACK"&&(k={...o,player1Wins:o.player1Wins+1}),w==="WHITE"&&(k={...o,player2Wins:o.player2Wins+1}))));const S={board:N===x.PLAYING?G(n,f):n,turn:f,noMovesAlert:y,status:N,winner:w,players:{[c.ONE]:{...i[c.ONE],score:m.BLACK},[c.TWO]:{...i[c.TWO],score:m.WHITE}},hasSavedGame:N===x.PLAYING,botStats:W,pvpStats:k};g.setState(S),z({...s,...S}),N===x.PLAYING&&u==="PVB"&&f==="WHITE"&&setTimeout(()=>{const B=g.getState();B.status===x.PLAYING&&B.turn==="WHITE"&&B.placeDisc(-1,-1)},500)},ee=b.memo(({owner:t,isValidMove:a,isFlipping:s})=>{const r=b.useMemo(()=>t==="BLACK"?"rotateY(180deg)":"rotateY(0deg)",[t]),l=b.useMemo(()=>({transform:s?`${r} translateZ(30px) scale(1.15)`:`${r} translateZ(2px)`}),[s,r]),i=b.useMemo(()=>({transform:s?"scale(0.6) translateY(20%)":"scale(1) translateY(5%)",opacity:s?.3:.6}),[s]);return e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center preserve-3d",children:[!t&&a&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:`
                w-[40%] h-[40%] rounded-full 
                bg-teal-500/30 dark:bg-teal-400/20 
                border border-teal-500/40 dark:border-teal-400/40
                shadow-[0_0_15px_rgba(20,184,166,0.3)] dark:shadow-[0_0_15px_rgba(45,212,191,0.2)]
                animate-pulse
             `})}),t&&e.jsx("div",{className:"absolute bottom-0 w-[80%] h-[80%] rounded-full bg-slate-900/40 dark:bg-black/60 blur-[4px] will-change-transform",style:i}),t&&e.jsxs("div",{className:"w-full h-full relative preserve-3d will-change-transform",style:{...l,transition:"transform 700ms cubic-bezier(0.34, 1.56, 0.64, 1)"},children:[e.jsxs("div",{className:"absolute inset-0 backface-hidden rounded-full",style:{transform:"rotateY(0deg) translateZ(1px)",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"},children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-white via-[#f1f5f9] to-[#cbd5e1] border border-white/60 shadow-[inset_0_-2px_4px_rgba(0,0,0,0.1)]"}),e.jsx("div",{className:"absolute inset-[15%] rounded-full border border-black/5 shadow-[inset_0_2px_4px_rgba(0,0,0,0.1)]"}),e.jsx("div",{className:"absolute top-[5%] left-[20%] w-[60%] h-[30%] bg-gradient-to-b from-white to-transparent opacity-90 rounded-[50%]"})]}),e.jsxs("div",{className:"absolute inset-0 backface-hidden rounded-full",style:{transform:"rotateY(180deg) translateZ(1px)",WebkitBackfaceVisibility:"hidden",backfaceVisibility:"hidden"},children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-[#334155] via-[#1e293b] to-[#020617] border border-slate-600/30 shadow-[inset_0_-2px_4px_rgba(0,0,0,0.5)]"}),e.jsx("div",{className:"absolute inset-[15%] rounded-full border border-white/10 shadow-[inset_0_2px_4px_rgba(0,0,0,0.5)]"}),e.jsx("div",{className:"absolute top-[5%] left-[20%] w-[60%] h-[30%] bg-gradient-to-b from-slate-500/40 to-transparent opacity-80 rounded-[50%]"})]}),e.jsx("div",{className:"absolute inset-[1px] rounded-full border-[3px] border-[#64748b] -z-10",style:{transform:"rotateY(90deg)",opacity:.5}})]})]})},(t,a)=>t.owner===a.owner&&t.isValidMove===a.isValidMove&&t.isFlipping===a.isFlipping),te=b.memo(({cell:t,isClickable:a,onPlace:s,boardSize:r})=>{const{row:l,col:i,owner:u,isValidMove:d,isFlipping:o}=t,n=a&&d,h=b.useCallback(()=>{n&&s(l,i)},[n,l,i,s]),m=b.useMemo(()=>u?!1:r===8?(l===2||l===6)&&(i===2||i===6):r===6?(l===1||l===4)&&(i===1||i===4):!1,[u,l,i,r]);return e.jsxs("div",{className:`
                relative 
                bg-slate-200 dark:bg-[#1e293b]
                rounded-[4px] sm:rounded-md
                flex items-center justify-center 
                shadow-[inset_0_4px_6px_rgba(0,0,0,0.1),_0_1px_0_rgba(255,255,255,0.8)] dark:shadow-[inset_0_4px_6px_rgba(0,0,0,0.6),_0_1px_0_rgba(255,255,255,0.1)]
                border-t border-black/5 dark:border-black/20
                border-b border-white/50 dark:border-white/5
            `,children:[e.jsx("button",{type:"button",onClick:h,disabled:!n,className:`
                    absolute inset-0 z-50 w-full h-full 
                    focus:outline-none 
                    touch-manipulation
                    ${n?"cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 active:bg-black/10":"cursor-default"}
                `,"aria-label":`Place disc at row ${l+1}, column ${i+1}`}),e.jsx("div",{className:"absolute inset-[10%] rounded-full bg-slate-300 dark:bg-[#020617] shadow-[inset_0_2px_4px_rgba(0,0,0,0.2)] dark:shadow-[inset_0_2px_4px_rgba(0,0,0,1)] opacity-60 pointer-events-none"}),m&&e.jsx("div",{className:"absolute w-1.5 h-1.5 bg-slate-400 dark:bg-teal-500/30 rounded-full dark:shadow-[0_0_5px_rgba(20,184,166,0.5)] shadow-[inset_0_1px_2px_rgba(0,0,0,0.2)] pointer-events-none"}),e.jsx("div",{className:"w-[96%] h-[96%] relative flex items-center justify-center z-10 pointer-events-none preserve-3d",children:e.jsx(ee,{owner:u,isValidMove:d,isFlipping:o})})]})},(t,a)=>t.cell.owner===a.cell.owner&&t.cell.isValidMove===a.cell.isValidMove&&t.cell.isFlipping===a.cell.isFlipping&&t.isClickable===a.isClickable&&t.boardSize===a.boardSize),se=b.memo(()=>{const t=g(n=>n.board),a=g(n=>n.placeDisc),s=g(n=>n.status),r=C(n=>n.enableTilt),l=t.length,i=s===x.PLAYING,u=b.useCallback((n,h)=>{a(n,h)},[a]),d=b.useMemo(()=>({width:"100%",maxWidth:"100%",aspectRatio:"1/1",transform:r?"rotateX(20deg)":"none"}),[r]),o=b.useMemo(()=>({gridTemplateColumns:`repeat(${l}, minmax(0, 1fr))`,gridTemplateRows:`repeat(${l}, minmax(0, 1fr))`,touchAction:"none"}),[l]);return e.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-4 perspective-1000",children:e.jsxs("div",{className:`
                    relative 
                    bg-slate-300 dark:bg-[#334155] 
                    rounded-xl 
                    shadow-[0_30px_60px_-15px_rgba(0,0,0,0.3),_0_12px_0_#94a3b8] dark:shadow-[0_30px_60px_-15px_rgba(0,0,0,0.7),_0_12px_0_#1e293b]
                    border-4 border-slate-400 dark:border-[#475569]
                    p-1.5 sm:p-2
                    preserve-3d
                    will-change-transform
                `,style:d,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/40 to-transparent dark:from-white/5 rounded-lg pointer-events-none"}),e.jsx("div",{className:`
                        grid gap-1 sm:gap-2 w-full h-full
                        bg-slate-400 dark:bg-[#0f172a]
                        rounded-lg
                        p-0.5 sm:p-1
                        shadow-[inset_0_2px_10px_rgba(0,0,0,0.2)] dark:shadow-[inset_0_2px_10px_rgba(0,0,0,0.5)]
                        border border-slate-400/50 dark:border-slate-700/50
                    `,style:o,children:t.map((n,h)=>n.map((m,p)=>e.jsx(te,{cell:m,isClickable:i,onPlace:u,boardSize:l},`${h}-${p}`)))})]})})}),L=b.memo(({playerId:t,alignment:a})=>{const s=g(n=>n.players[t]),r=g(n=>n.turn),l=g(n=>n.winner),i=P[t],u=b.useMemo(()=>r==="BLACK"&&t===c.ONE||r==="WHITE"&&t===c.TWO,[r,t]),d=b.useMemo(()=>l==="BLACK"&&t===c.ONE||l==="WHITE"&&t===c.TWO,[l,t]),o=a==="right";return e.jsxs("div",{className:`
        flex items-center gap-3 md:gap-4
        transition-all duration-300
        ${o?"flex-row-reverse text-right":"flex-row text-left"}
        ${u?"opacity-100 scale-105":"opacity-60 grayscale-[0.3] scale-100"}
      `,children:[e.jsxs("div",{className:`
          relative
          w-10 h-10 md:w-14 md:h-14 rounded-xl md:rounded-2xl
          flex items-center justify-center
          bg-gradient-to-br ${i.gradient}
          shadow-lg ${u?i.shadowColor:"shadow-none"}
          border-2 ${u?"border-teal-400":i.borderColor}
          transition-all duration-300
        `,children:[e.jsx("div",{className:`
            w-6 h-6 md:w-8 md:h-8 rounded-full shadow-inner 
            ${t===c.ONE?"bg-black border border-slate-700":"bg-white border border-slate-200"}
        `}),d&&e.jsx("div",{className:"absolute -top-3 -right-3 text-2xl animate-bounce",children:"üëë"})]}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsx("h2",{className:"text-sm md:text-lg font-bold text-slate-700 dark:text-white leading-tight transition-colors",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[e.jsxs("div",{className:`
               px-2 py-0.5 rounded-md 
               bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-300
               text-[10px] md:text-xs font-mono
               transition-colors
             `,children:["Count: ",e.jsx("span",{className:"text-slate-900 dark:text-white font-bold",children:s.score})]}),u&&!l&&e.jsx("div",{className:`
                 hidden sm:block px-2 py-0.5 rounded-full 
                 bg-teal-600 text-white 
                 text-[10px] font-bold uppercase tracking-wider animate-pulse
               `,children:"Turn"})]})]})]})}),ae=()=>{const{status:t,winner:a,startGame:s,resetGame:r,players:l,gameMode:i}=g(),{setView:u}=C(),[d,o]=b.useState(!1);if(b.useEffect(()=>{t===x.WON||t===x.DRAW?o(!0):o(!1)},[t]),!d||t!==x.WON&&t!==x.DRAW)return null;const n=a==="BLACK"?c.ONE:c.TWO,h=a?P[n]:null,m=()=>{r(),u(O.HOME)},p=()=>{s(i)},v=n?l[n].name:"";return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-[2px] transition-opacity duration-300",onClick:()=>o(!1)}),e.jsxs("div",{className:"relative bg-white/50 dark:bg-slate-800/50 backdrop-blur-xl rounded-3xl p-8 max-w-md w-full text-center shadow-2xl border border-white/40 dark:border-slate-700/40 animate-bounce-in transform transition-all duration-300",children:[e.jsx("button",{onClick:()=>o(!1),className:"absolute top-4 right-4 p-2 text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-white transition-colors bg-white/50 dark:bg-black/20 rounded-full",title:"Close to View Board",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),t===x.WON&&h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`mx-auto w-24 h-24 rounded-full bg-gradient-to-br ${h.gradient} flex items-center justify-center mb-6 shadow-xl border-4 border-white/30 dark:border-slate-600/30`,children:e.jsx("span",{className:"text-5xl",children:a==="BLACK"?"‚ö´":"‚ö™"})}),e.jsxs("h2",{className:"text-4xl font-black text-slate-900 dark:text-white mb-2 uppercase tracking-tight drop-shadow-sm",children:[v," Wins!"]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-8 font-medium",children:"Total domination of the board."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mx-auto w-24 h-24 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center mb-6",children:e.jsx("span",{className:"text-5xl",children:"ü§ù"})}),e.jsx("h2",{className:"text-4xl font-black text-slate-900 dark:text-white mb-2 drop-shadow-sm",children:"Draw!"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-8 font-medium",children:"A perfectly balanced game."})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(j,{onClick:p,size:"lg",className:"w-full !bg-teal-600 hover:!bg-teal-500 shadow-lg",children:"Play Again"}),e.jsx(j,{onClick:m,variant:"secondary",className:"w-full !bg-white/50 dark:!bg-black/20 hover:!bg-white/80 dark:hover:!bg-black/40",children:"Back to Menu"})]})]})]})},I=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 md:w-5 md:h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),re=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 md:w-5 md:h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),le=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 md:w-5 md:h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),ne=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 mr-2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 002.25-2.25V6.75a2.25 2.25 0 00-2.25-2.25H6.75A2.25 2.25 0 004.5 6.75v10.5a2.25 2.25 0 002.25 2.25zm.75-12h9v9h-9v-9z"})}),ce=()=>{const{status:t,startGame:a,resumeGame:s,resetGame:r,syncPlayers:l,turn:i,winner:u,noMovesAlert:d,dismissAlert:o,hasSavedGame:n,gameMode:h,boardSize:m}=g(),{setView:p,players:v}=C(),[f,y]=b.useState(m||T);b.useEffect(()=>{l(v)},[v,l]),b.useEffect(()=>{m&&y(m)},[m]);const w=()=>{r(),p(O.HOME)},N=()=>{r()},W=()=>{a(h)};return e.jsxs("div",{className:"flex flex-col h-screen w-full bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-white relative overflow-hidden transition-colors duration-500",children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-40",children:[e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top_right,_#99f6e4_0%,_#f1f5f9_50%)] dark:bg-[radial-gradient(circle_at_top_right,_#115e59_0%,_#0f172a_50%)]"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1/2 bg-[radial-gradient(ellipse_at_bottom_left,_#cbd5e1_0%,_transparent_50%)] dark:bg-[radial-gradient(ellipse_at_bottom_left,_#334155_0%,_transparent_50%)]"})]}),e.jsxs("header",{className:"shrink-0 h-16 md:h-20 px-3 md:px-8 flex items-center justify-between z-30 bg-white/60 dark:bg-black/20 backdrop-blur-md border-b border-slate-200 dark:border-white/5 relative shadow-sm transition-colors duration-300",children:[e.jsx("div",{className:"flex-1 flex justify-start min-w-0",children:e.jsx(L,{playerId:c.ONE,alignment:"left"})}),e.jsx("div",{className:"shrink-0 flex gap-2 mx-2",children:t!==x.IDLE?e.jsxs(e.Fragment,{children:[e.jsx(j,{variant:"icon",size:"sm",onClick:N,title:"Back to Game Menu",className:"w-9 h-9 md:w-11 md:h-11 p-2",children:e.jsx(re,{})}),e.jsx(j,{variant:"icon",size:"sm",onClick:W,title:"Restart Game",className:"w-9 h-9 md:w-11 md:h-11 p-2",children:e.jsx(le,{})}),e.jsx(j,{variant:"icon",size:"sm",onClick:w,title:"Return to Menu",className:"w-9 h-9 md:w-11 md:h-11 p-2",children:e.jsx(I,{})})]}):e.jsx(j,{variant:"icon",size:"sm",onClick:w,title:"Return to Menu",className:"w-9 h-9 md:w-11 md:h-11 p-2",children:e.jsx(I,{})})}),e.jsx("div",{className:"flex-1 flex justify-end min-w-0",children:e.jsx(L,{playerId:c.TWO,alignment:"right"})})]}),e.jsx("main",{className:"flex-1 h-screen w-screen flex items-center justify-center p-2 pb-20 relative z-10 perspective-1000",children:e.jsx("div",{className:`
                    relative aspect-square 
                    portrait:w-full portrait:max-h-full
                    landscape:h-full landscape:max-w-full
                    flex items-center justify-center
                `,children:t===x.IDLE?e.jsxs("div",{className:"w-full h-full max-w-md max-h-md aspect-square bg-white/80 dark:bg-[#1e293b]/90 backdrop-blur-xl rounded-xl border border-white dark:border-slate-700 shadow-2xl p-6 md:p-8 flex flex-col items-center justify-center text-center animate-bounce-in mx-auto transition-colors duration-300",children:[e.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 bg-slate-100 dark:bg-[#0f172a] rounded-full flex items-center justify-center text-3xl md:text-4xl mb-4 md:mb-6 border-2 border-slate-200 dark:border-slate-600 shadow-inner shrink-0 text-slate-900 dark:text-white",children:"‚ö™"}),e.jsx("h1",{className:"text-2xl md:text-3xl font-black text-slate-900 dark:text-white mb-2 shrink-0 font-sans tracking-tight",children:"Reversi"}),e.jsx("p",{className:"text-sm md:text-base text-slate-500 dark:text-slate-400 mb-6 md:mb-8 font-medium shrink-0",children:"Classic Strategy"}),e.jsxs("div",{className:"w-full flex flex-col gap-3 shrink-0",children:[n&&e.jsxs(e.Fragment,{children:[e.jsxs(j,{onClick:s,size:"lg",className:"w-full !bg-teal-600 hover:!bg-teal-500 !text-white !shadow-[0_4px_0_#0f766e] active:!shadow-none shrink-0 border-none",children:["Continue Game (",m,"x",m,")"]}),e.jsxs("div",{className:"mt-2 mb-2 flex items-center justify-center gap-2",children:[e.jsx("div",{className:"h-px w-full bg-slate-300 dark:bg-slate-600"}),e.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase whitespace-nowrap",children:"Or Start New"}),e.jsx("div",{className:"h-px w-full bg-slate-300 dark:bg-slate-600"})]})]}),e.jsx("div",{className:"flex justify-center gap-3 mb-4",children:[5,6,8].map(k=>e.jsxs("button",{onClick:()=>y(k),className:`
                                                w-14 h-12 rounded-xl font-bold text-lg transition-all
                                                ${f===k?"bg-teal-500 text-white shadow-lg shadow-teal-500/50 scale-110":"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-300 dark:hover:bg-slate-600"}
                                            `,children:[k,"x",k]},k))}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(j,{onClick:()=>a("PVP",f),variant:n?"secondary":"primary",size:"md",className:n?"":"!bg-teal-600 !text-white !shadow-teal-700",children:"PVP"}),e.jsxs(j,{onClick:()=>a("PVB",f),variant:"secondary",size:"md",className:"!bg-teal-100 dark:!bg-teal-900/30 !text-teal-700 dark:!text-teal-300",children:[e.jsx(ne,{})," vs Bot"]})]})]})]}):e.jsx("div",{className:"w-full h-screen flex items-center justify-center animate-fade-in",children:e.jsx(se,{})})})}),d&&!u&&e.jsx("div",{className:"absolute top-24 left-1/2 -translate-x-1/2 z-50 animate-bounce-in",children:e.jsxs("div",{className:"bg-[#f59e0b] text-[#3e2723] px-6 py-3 rounded-full shadow-lg font-bold flex items-center gap-3 border-2 border-[#fcd34d]",children:[e.jsxs("span",{children:["‚ö†Ô∏è No moves for ",i==="BLACK"?"Black":"White","! Passing..."]}),e.jsx("button",{onClick:o,className:"w-6 h-6 bg-black/10 rounded-full flex items-center justify-center hover:bg-black/20",children:"‚úï"})]})}),e.jsx(ae,{})]})};export{ce as ReversiGame};
